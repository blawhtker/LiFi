[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200

; --- Build Flags to Configure Ethernet Hardware ---
build_flags = 
    ; 1. Enable Ethernet Support in Arduino Core
    -D ESP32_S3_BOX ; (Often helps unlock certain S3 peripheral mappings)
    
    ; 2. Define the Hardware Pins (MATCH YOUR WIRING!)
    -D ETH_PHY_ADDR=1              ; Standard for LAN8720
    -D ETH_PHY_TYPE=ETH_PHY_LAN8720
    -D ETH_PHY_POWER=-1            ; -1 if Power is hardwired (no GPIO control)
    -D ETH_PHY_MDC=23              ; Management Data Clock
    -D ETH_PHY_MDIO=18             ; Management Data I/O
    
    ; 3. The Critical Clock Setting
    ; The ESP32-S3 must generate the 50MHz clock for the LAN8720
    ; "ETH_CLOCK_GPIO17_OUT" means GPIO 17 outputs the clock.
    -D ETH_CLK_MODE=ETH_CLOCK_GPIO17_OUT

    ; 4. Debug Levels (Set to 3 to see Ethernet driver logs)
    -D CORE_DEBUG_LEVEL=3